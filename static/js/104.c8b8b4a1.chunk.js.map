{"version":3,"file":"static/js/104.c8b8b4a1.chunk.js","mappings":"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","sources":["webpack://future-test/./src/pages/BookPage/BookPage.module.css?b0dc","pages/BookPage/BookPage.tsx","shared/Helpers/mappers.ts","webpack://future-test/./src/features/BookSearch/BookSearch.module.css?e761","features/BookSearch/BookSearch.tsx","webpack://future-test/./src/widgets/Header/Header.module.css?539b","widgets/Header/Header.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"bookPageWrapper\":\"BookPage_bookPageWrapper__DmhdK\",\"bookCoverWrapper\":\"BookPage_bookCoverWrapper__VAdXS\",\"bookCover\":\"BookPage_bookCover__nGr6A\",\"bookInfoWrapper\":\"BookPage_bookInfoWrapper__q7elg\",\"bookCategory\":\"BookPage_bookCategory__Dwbar\",\"bookTitle\":\"BookPage_bookTitle__CyAm2\",\"bookPublisher\":\"BookPage_bookPublisher__ECx3D\",\"bookDescription\":\"BookPage_bookDescription__UAbXh\"};","import styles from \"./BookPage.module.css\";\r\nimport React, { FC, useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../redux/redux-store\";\r\nimport Preloader from \"../../shared/Preloader/Preloader\";\r\nimport { addSeparator } from \"../../shared/Helpers/mappers\";\r\nimport Header from \"../../widgets/Header/Header\";\r\nimport { Book } from \"../../redux/app-reducer\";\r\n\r\nconst BookPage: FC = () => {\r\n  const navigate = useNavigate();\r\n  let URLbookId = useParams().id;\r\n  const books = useSelector((state: RootState) => state.appPage.books);\r\n  const [book, setBook] = useState<null | Book>(null);\r\n\r\n  useEffect(() => {\r\n    console.log('URLbookId', URLbookId);\r\n    console.log(\"books\", books);\r\n    if (!URLbookId || !books[+URLbookId]) {\r\n      navigate(\"/\");\r\n    } else {\r\n      setBook(books[+URLbookId]);\r\n      console.log('book', book);\r\n     }\r\n  }, [URLbookId, books, navigate]);\r\n\r\n  return (\r\n    <>\r\n      {!book ? (\r\n        <Preloader />\r\n      ) : (\r\n        <>\r\n          <Header />\r\n          <div className={styles.bookPageWrapper}>\r\n            <div className={styles.bookCoverWrapper}>\r\n              <img\r\n                className={styles.bookCover}\r\n                alt=\"Book cover\"\r\n                src={\r\n                  book?.imageLinks?.thumbnail\r\n                    ? book.imageLinks.thumbnail\r\n                    : \"https://img.freepik.com/premium-vector/blank-book-cover_134452-8.jpg\"\r\n                }\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.bookInfoWrapper}>\r\n              <div className={styles.bookCategory}>\r\n                {book?.categories?.length > 0 &&\r\n                  addSeparator(book?.categories, \"/\").join()}\r\n              </div>\r\n\r\n              <div className={styles.bookTitle}>\r\n                {book?.authors?.length > 0 &&\r\n                  addSeparator(book?.authors, \",\").join()}\r\n                {book?.authors?.length > 0 && book?.title && \"  -  \"}\r\n                {book?.title ? book?.title : \"\"}\r\n              </div>\r\n\r\n              <div className={styles.bookPublisher}>\r\n                {book.publisher ? book.publisher : \"no publisher\"}\r\n              </div>\r\n\r\n              <div className={styles.bookDescription}>\r\n                {book?.description ? book.description : \"no description\"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )} \r\n    </>\r\n  );\r\n   \r\n};\r\n\r\nexport default BookPage;\r\n","export const addSeparator = (\r\n  arr: string[],\r\n  separator: string = \",\"\r\n): string[] =>\r\n  arr.map((item, index, array) => {\r\n    return item + ((index < arr.length - 1) ? separator + ' ': \"\")\r\n  });\r\n      \r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"searchInputGroup\":\"BookSearch_searchInputGroup__1FYP5\",\"searchInput\":\"BookSearch_searchInput__zdK-p\",\"searchLoupButton\":\"BookSearch_searchLoupButton__HDJ2P\",\"searchParametersGroup\":\"BookSearch_searchParametersGroup__80UIb\",\"searchParameter\":\"BookSearch_searchParameter__u2lOW\",\"select\":\"BookSearch_select__NTvFG\"};","import React, { FC } from \"react\";\r\nimport { getBooks, SearchParameters, setSearchParameters } from \"../../redux/app-reducer\";\r\nimport styles from \"./BookSearch.module.css\";\r\nimport { useForm, SubmitHandler } from \"react-hook-form\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\n \r\n\r\nexport const BookSearch: FC = () => {\r\n  const { register, handleSubmit } = useForm<SearchParameters>();\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit: SubmitHandler<SearchParameters> = (data) => {\r\n  \r\n\r\n    //@ts-ignore\r\n    dispatch(getBooks({\r\n        ...data,\r\n        currentPage: 0,\r\n      })\r\n    );\r\n    dispatch(setSearchParameters(data));\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className={styles.searchInputGroup}>\r\n        <input\r\n          className={styles.searchInput}\r\n          placeholder=\"Type key word for search\"\r\n          type=\"text\"\r\n          defaultValue=\"\"\r\n          {...register(\"keyWord\")}\r\n        />\r\n        <button className={styles.searchLoupButton} type=\"submit\">\r\n          ðŸ”Ž\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.searchParametersGroup}>\r\n        <label className={styles.searchParameter}>\r\n          Categories\r\n          <select\r\n            className={styles.select}\r\n            defaultValue=\"all\"\r\n            {...register(\"category\")}\r\n          >\r\n            <option value=\"all\">All</option>\r\n            <option value=\"art\">Art</option>\r\n            <option value=\"biography\">Biography</option>\r\n            <option value=\"computers\">Computers</option>\r\n            <option value=\"history\">History</option>\r\n            <option value=\"medical\">Medical</option>\r\n            <option value=\"poetry\">Poetry</option>\r\n          </select>\r\n        </label>\r\n\r\n        <label className={styles.searchParameter}>\r\n          Sorting by\r\n          <select\r\n            className={styles.select}\r\n            defaultValue=\"relevance\"\r\n            {...register(\"sorting\")}\r\n          >\r\n            <option value=\"relevance\">Relevance</option>\r\n            <option value=\"newest\">Newest</option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"headerWrapper\":\"Header_headerWrapper__Xl42u\",\"headerTitle\":\"Header_headerTitle__yyirg\"};","import React, { FC } from 'react';\r\nimport { BookSearch } from \"../../features/BookSearch/BookSearch\";\r\nimport styles from './Header.module.css';\r\n\r\nconst Header: FC = () => {\r\n\r\n  return (\r\n    <div className={styles.headerWrapper}>\r\n      <div className={styles.headerTitle}>Search for books</div>\r\n      <BookSearch />\r\n    </div>\r\n  );\r\n\r\n}\r\n  \r\nexport default Header;\r\n"],"names":["_book$imageLinks","_book$categories","_book$authors","_book$authors2","navigate","useNavigate","URLbookId","useParams","id","books","useSelector","state","appPage","_useState","useState","_useState2","_slicedToArray","book","setBook","useEffect","console","log","_jsx","_Fragment","children","_jsxs","Header","className","styles","alt","src","imageLinks","thumbnail","categories","length","addSeparator","join","authors","title","publisher","description","Preloader","arr","separator","arguments","undefined","map","item","index","array","BookSearch","_useForm","useForm","register","handleSubmit","dispatch","useDispatch","onSubmit","data","getBooks","_objectSpread","currentPage","setSearchParameters","placeholder","type","defaultValue","value"],"sourceRoot":""}